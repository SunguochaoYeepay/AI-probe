<template>
  <a-layout class="demo-layout">
    <!-- å·¦ä¾§å¯¼èˆª -->
    <ChartSidebar ref="sidebarRef" />
    
    <!-- å³ä¾§å†…å®¹åŒº -->
    <a-layout class="main-content">
      <!-- é¡µé¢å¤´éƒ¨ -->
      <a-layout-header class="page-header">
        <div class="header-left">
          <a-button 
            type="text" 
            @click="toggleSidebar"
            class="sidebar-trigger"
          >
            <MenuOutlined />
          </a-button>
          <h1>å›¾è¡¨å¯¼èˆªæ¼”ç¤º</h1>
        </div>
        <div class="header-right">
          <a-button @click="refreshDemo">
            <ReloadOutlined />
            åˆ·æ–°
          </a-button>
          <a-button type="primary" @click="goToCreate">
            <PlusOutlined />
            åˆ›å»ºæ–°å›¾è¡¨
          </a-button>
        </div>
      </a-layout-header>
      
      <!-- ä¸»è¦å†…å®¹ -->
      <a-layout-content class="page-content">
        <a-card title="å·¦ä¾§å¯¼èˆªåŠŸèƒ½æ¼”ç¤º" class="demo-card">
          <div class="demo-content">
            <a-row :gutter="24">
              <a-col :span="12">
                <h3>ğŸ¯ ä¸»è¦åŠŸèƒ½</h3>
                <ul class="feature-list">
                  <li>ğŸ“Š å›¾è¡¨åˆ†ç±»å¯¼èˆª - æŒ‰ç±»å‹ç»„ç»‡å›¾è¡¨</li>
                  <li>ğŸ” æ™ºèƒ½æœç´¢ - å¿«é€Ÿæ‰¾åˆ°ç›®æ ‡å›¾è¡¨</li>
                  <li>ğŸ“± å“åº”å¼è®¾è®¡ - ç§»åŠ¨ç«¯å‹å¥½</li>
                  <li>ğŸŒ™ æ·±è‰²ä¸»é¢˜æ”¯æŒ - æŠ¤çœ¼æ¨¡å¼</li>
                  <li>âš¡ å¿«é€Ÿæ“ä½œ - ä¸€é”®åˆ›å»ºå’Œè®¿é—®</li>
                </ul>
              </a-col>
              <a-col :span="12">
                <h3>ğŸ¨ è®¾è®¡ç‰¹ç‚¹</h3>
                <ul class="feature-list">
                  <li>ğŸ¯ Ant Design æœ€ä½³å®è·µ</li>
                  <li>ğŸ“ ç»Ÿä¸€çš„è§†è§‰è¯­è¨€</li>
                  <li>ğŸ”„ æµç•…çš„äº¤äº’åŠ¨ç”»</li>
                  <li>ğŸ“Š ç›´è§‚çš„å›¾æ ‡ç³»ç»Ÿ</li>
                  <li>ğŸª ä¼˜é›…çš„æ‚¬åœæ•ˆæœ</li>
                </ul>
              </a-col>
            </a-row>
            
            <a-divider />
            
            <div class="demo-stats">
              <h3>ğŸ“ˆ å¯¼èˆªç»“æ„</h3>
              <a-row :gutter="16">
                <a-col :span="6">
                  <a-statistic title="ä¸€çº§åˆ†ç±»" :value="4" />
                </a-col>
                <a-col :span="6">
                  <a-statistic title="äºŒçº§åˆ†ç±»" :value="12" />
                </a-col>
                <a-col :span="6">
                  <a-statistic title="æœç´¢åŠŸèƒ½" :value="1" />
                </a-col>
                <a-col :span="6">
                  <a-statistic title="å¿«æ·æ“ä½œ" :value="2" />
                </a-col>
              </a-row>
            </div>
            
            <a-divider />
            
            <div class="demo-actions">
              <h3>ğŸš€ å¿«é€Ÿä½“éªŒ</h3>
              <a-space wrap>
                <a-button type="primary" @click="toggleSidebar">
                  <MenuOutlined />
                  åˆ‡æ¢ä¾§è¾¹æ 
                </a-button>
                <a-button @click="simulateSearch">
                  <SearchOutlined />
                  æ¨¡æ‹Ÿæœç´¢
                </a-button>
                <a-button @click="showNavigation">
                  <CompassOutlined />
                  æŸ¥çœ‹å¯¼èˆª
                </a-button>
                <a-button @click="goToMyCharts">
                  <BarChartOutlined />
                  æˆ‘çš„å›¾è¡¨
                </a-button>
              </a-space>
            </div>
          </div>
        </a-card>
      </a-layout-content>
    </a-layout>
  </a-layout>
</template>

<script setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router'
import { message } from 'ant-design-vue'
import {
  MenuOutlined,
  ReloadOutlined,
  PlusOutlined,
  SearchOutlined,
  CompassOutlined,
  BarChartOutlined
} from '@ant-design/icons-vue'
import ChartSidebar from '@/components/ChartSidebar.vue'

const router = useRouter()
const sidebarRef = ref(null)

// æ–¹æ³•
const toggleSidebar = () => {
  if (sidebarRef.value) {
    sidebarRef.value.toggleCollapsed()
  }
}

const refreshDemo = () => {
  message.success('æ¼”ç¤ºé¡µé¢å·²åˆ·æ–°')
}

const goToCreate = () => {
  router.push('/')
}

const simulateSearch = () => {
  message.info('æœç´¢åŠŸèƒ½æ¼”ç¤ºï¼šåœ¨å·¦ä¾§æœç´¢æ¡†ä¸­è¾“å…¥å…³é”®è¯')
}

const showNavigation = () => {
  message.info('å¯¼èˆªåŠŸèƒ½æ¼”ç¤ºï¼šç‚¹å‡»å·¦ä¾§èœå•é¡¹æŸ¥çœ‹ä¸åŒåˆ†ç±»')
}

const goToMyCharts = () => {
  router.push('/my-charts')
}
</script>

<style scoped lang="less">
.demo-layout {
  min-height: 100vh;
  
  .main-content {
    background: #f5f5f5;
  }
  
  .page-header {
    background: #fff;
    padding: 0 24px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 64px;
    
    .header-left {
      display: flex;
      align-items: center;
      gap: 16px;
      
      .sidebar-trigger {
        font-size: 16px;
      }
      
      h1 {
        margin: 0;
        font-size: 20px;
        font-weight: 600;
        color: #262626;
      }
    }
    
    .header-right {
      display: flex;
      gap: 12px;
    }
  }
  
  .page-content {
    padding: 16px;
    min-height: calc(100vh - 64px);
  }
}

.demo-card {
  .demo-content {
    .feature-list {
      list-style: none;
      padding: 0;
      
      li {
        padding: 8px 0;
        border-bottom: 1px solid #f0f0f0;
        
        &:last-child {
          border-bottom: none;
        }
      }
    }
    
    .demo-stats {
      .ant-statistic {
        text-align: center;
      }
    }
    
    .demo-actions {
      text-align: center;
    }
  }
}

// å“åº”å¼è®¾è®¡
@media (max-width: 768px) {
  .demo-layout {
    .page-header {
      padding: 0 16px;
      
      .header-left h1 {
        font-size: 18px;
      }
    }
    
    .page-content {
      padding: 16px;
    }
  }
}

// æ·±è‰²ä¸»é¢˜é€‚é…
@media (prefers-color-scheme: dark) {
  .demo-layout {
    .main-content {
      background: #141414;
    }
    
    .page-header {
      background: #1f1f1f;
      border-bottom: 1px solid #303030;
      
      .header-left h1 {
        color: #fff;
      }
    }
  }
}
</style>
